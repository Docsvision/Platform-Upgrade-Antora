= Обновление ссылок на компоненты в базе данных {dv}

Версии компонентов {dv} были изменены с 5.0 на 5.5. В базе данных {dv} присутствуют записи, содержащие полные имена сборок {dv} с номером версии. Администратору нужно обновить имена сборок в базе данных базу данных {dv} с помощью предоставляемой программы _ExtensibleTool_.

. Запустите программу `[Каталог установки серверных компонентов {dv}]\Platform\5.5\Tools\ExtensibleTool.exe` от имени администратора {dv}.
+
.{dv} ExtensibleTool
image::image-20200616110121893.png[{dv} ExtensibleTool]
+
. В области настроек _Connection settings_ введите данные для подключения к серверу {dv}:
+
.. Укажите адрес подключения к серверу {dv}.
.. Введите псевдоним базы данных {dv} (оставьте пустым, чтобы подключиться к БД по умолчанию).
.. Если для подключения к серверу {dv} нужно указать логин/пароль, установите флаг `*Use basic authentication*` и введите данные учетной записи.
. Нажмите кнопку *Connect*. Появится сообщение `Connected to {dv}`.
. В области настроек _Tools_ нажмите кнопку *Add*.
+
. Выберите файл `Каталог-установки-серверных-компонентов-{dv}\Platform\5.5\Tools\Docsvision.BackOffice.Tools.Extensible.dll`.
+
В список Tools будут добавлены новые записи.
+
.Записи в области Tools
image::image-20200616110408578.png[Записи в области Tools]
+
. В списке Tools выберите строчку _Assembly version converter_ и нажмите кнопку *Execute*. Будет запущен процесс изменения ссылок в БД {dv}. После завершения процесса появится сообщение `Executed 1 tools`.
+
По умолчанию программа _ExtensibleTool_ обновляет только ссылки на сборки {dv} в следующих карточках:
+
* _Конструктор скриптов,_ секция _Используемые сборки_.
* _Системные настройки_, секция _Расширения_.
* _Справочник видов карточек_, секция _Расширения_.
+
Если требуется, можно расширить область обновления ссылок и/или добавить обновление ссылок на собственные компоненты, изменив содержимое файла `Каталог-установки-серверных-компонентов-{dv}\Platform\5.5\Tools\AssemblyReplaceData.xml`:
+
. В секцию _CardTypes_ добавьте секции карточек, значения в которых должны быть обновлены.
+
[source,xml,subs=normal]
----
   &lt;CardType Id=&quot;Идентификатор карточки&quot;&gt;
       &lt;Section Id=&quot;Идентификатор секции&quot;&gt;
           &lt;Field Alias=&quot;Path&quot; SearchSubString=&quot;true&quot;/&gt;
       &lt;/Section&gt;
   &lt;/CardType&gt;
----
+
. В секцию _Replaces_ добавить строки, которые должны быть заменены.
+
[source,xml,subs=normal]
----
   &lt;Replace Old=&quot;Старая строка&quot; New=&quot;Новая строка&quot;/&gt;
----
