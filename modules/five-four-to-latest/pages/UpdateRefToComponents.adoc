= Обновление ссылок на компоненты в базе данных {dv}

Версии компонентов {dv} были изменены с 5.0 на 5.5. В базе данных {dv} присутствуют записи, содержащие полные имена сборок {dv} с номером версии. Администратору нужно обновить имена сборок в базе данных базу данных {dv} с помощью предоставляемой программы "ExtensibleTool".

. Запустите программу `[Каталог установки серверных компонентов {dv}]\Platform\5.5\Tools\ExtensibleTool.exe` от имени администратора {dv}. Будет открыто окно:

image::image-20200616110121893.png[]

. В области настроек "Connection settings" введите данные для подключения к серверу {dv}:

. Укажите адрес подключения к серверу {dv}.

. Введите псевдоним базы данных {dv} (оставьте пустым, чтобы подключиться к БД по умолчанию).
. Если для подключения к серверу {dv} нужно указать логин/пароль, установите флаг "Use basic authentication" и введите данные учетной записи.
. Нажмите кнопку Connect. Появиться сообщение "Connected to {dv}".
. В области настроек "Tools" нажмите кнопку Add.

. Выберите файл `[Каталог установки серверных компонентов {dv}]\Platform\5.5\Tools\{dv}.BackOffice.Tools.Extensible.dll`. В список Tools будут добавлены новые записи.

image::image-20200616110408578.png[]

. В списке Tools выберите строчку "Assembly version converter" и нажмите кнопку Execute. Будет запущен процесс изменения ссылок в БД {dv}. После завершения процесса появится сообщение "Executer 1 tools".

По умолчанию программа "ExtensibleTool" обновляет только ссылки на сборки {dv} в карточках:

* _Конструктор скриптов,_ секция "Используемые сборки";
* _Системные настройки_, секция "Расширения";
* _Справочник видов карточек_, секция "Расширения".

Если требуется, можно расширить область обновления ссылок и/или добавить обновление ссылок на собственные компоненты, изменив содержимое файла `[Каталог установки серверных компонентов {dv}]\Platform\5.5\Tools\AssemblyReplaceData.xml`:

. В секцию _CardTypes_ добавить секции карточек, значения в которых должны быть обновлены.

`xml
   &lt;CardType Id=&quot;Идентификатор карточки&quot;&gt;
       &lt;Section Id=&quot;Идентификатор секции&quot;&gt;
           &lt;Field Alias=&quot;Path&quot; SearchSubString=&quot;true&quot;/&gt;
       &lt;/Section&gt;
   &lt;/CardType&gt;
`

. В секцию Replaces добавить строки, которые должны быть заменены.

`xml
   &lt;Replace Old=&quot;Старая строка&quot; New=&quot;Новая строка&quot;/&gt;
`